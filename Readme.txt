分区坏簇标记工具 V0.1
================================================================================
注意：1 本软件仍在测试阶断，表现可能不稳定，请不要对存放重要数据的硬盘进行操作.
         如果遇到问题，请及时与作者联系。
      2 目前仅支持NTFS类型的分区，后期会有更新！
      3 对于由本软件造成的一切损失，作者不负任何法律责任！
联系作者：hackerlzc@126.com
看雪ID：  hackerlzc
================================================================================

软件简介：
    本软件可以由用户自行将坏扇区信息添加到文件系统的坏块机制中，从而使得文件系统
在正常工作的过程中不会再访问这些用户自定义的坏扇区。
    通常情况下，在执行完全的高级格式化或者系统在运行过程中遇到坏扇区时才会将坏扇
区添加到文件系统的坏块机制中，而在磁盘有大量坏道的情况下，高级格式化往往由于检测
扇区缓慢或者磁盘IO问题无法顺利完成，文件系统工作过程中遇到坏扇区再标记又不全面。
而且，上边这两种方法都有一个共性，即对坏扇区的识别太精确，由于坏扇区有向周围蔓延
的特点，所以这两种方法无法有效降低文件系统下次访问坏扇区的概率。
    本软件通过直接访问文件系统的坏块机制，可以将第三方工具或者用户自行扫瞄出的坏
扇区信息及“将坏扇区”的信息一并快捷高效地添加到文件系统的坏块机制中,从而最大限度
地降低了系统访问坏扇区的概率,并在保证系统的正常运行的前提下又延长了磁盘的“余热”
寿命。此外，以往屏蔽坏扇区的方式主要是分区隔离，然而此类方法对大范围不规律的坏道
来说是无法处理的，过多的分区不仅降低了用户体验，而且对硬盘空间也无法充分利用。本
软件通过文件系统自身的坏块机制标记坏扇区，从而使得剩余的磁盘空间仍可被文件系统组
织利用，满足用户对“大容量”的需求。

使用说明：
    本软件的使用方法很简单，基本上按照提示一步步操作即可。大体上分为下列几步。
    1，选择设备。运行程序MakeBadClusTool.exe ，程序首先会搜索系统中的磁盘设备，
根据需要，选择您要操作的磁盘（输入相应的ID并按回车键确认）。
    2，选择分区。在第1步完成以后，程序会搜索被选中磁盘设备中能被本软件操作的分
区。根据提示信息选择您要操作的分区（输入分区ID并按回车键确认）。选择完成后，软
件会校验当前分区的可操作性。如果一切正常将进入下一步。否则需要运行系统的chkdsk
命令修复文件系统中的错误。
    3，添加模式选择。软件读取坏扇区信息的方式有手工输入和从配置文件读入两种。手
工输入即通过在UI中用键盘输入坏扇区LBA的方式添加信息；而从配置文件读入的方式需要
输入配置文件的名称（该配置文件必须和MakeBadClusTool.exe放在同一目录下，具体文件
格式见附录）。
    4，输入“坏扇区扩展量”。“坏扇区扩展量”是指您要将一个与坏扇区相邻的多少个
扇区一并标记为坏扇区。比如某坏扇区的LBA是1000,坏扇区扩展量为500,则LBA为500至1500
的扇区将全部标记为坏扇区（根据文件系统中不同，可能会按簇进行对齐）。软件会算出一
个推荐值，通常情况下输入该推荐值并回车确认即可（当然，您也可以自定义这个值）。
    5，输入坏扇区表。如果第3步中的模式为手工输入，则会出现本步骤的操作。本步需要
键入坏扇区的LBA值，每键入一个就按回车键确认。键入-1表示结束输入操作。特别说明：
这里输入的LBA是扇区在磁盘中的绝对LBA值（低格时形成的），如果所输入的LBA值不在被操
作的分区范围内则输入的LBA值会被忽略。如果结合坏扇区扩展量得到的坏扇区范围影响到文
件系统的关键部分，则相应的坏扇区范围会被做适当调整。
    若第3步的模式是从文件读入，则输入相应的配置文件名即可。
    6，确认操作。当以上步骤顺利完成后，会提示“数据读入完成，即将进行更新！请按任
意键继续...”的字样。此时，您可以点击关闭按钮直接关闭程序放弃操作。也可以按任意键
继续操作。特别说明，此处是想放弃操作的最后机会。当按任意键继续以后，程序将进行相
应的处理工作。处理过程中必须保证硬盘不会掉电。否则可能会出现数据出错的严重后果。
当提示“修复完成”后方可退出程序。在处理的过程中，程序会检测所标记的坏扇区影响的
文件。如果受到影响相应文件的数据会被移动到磁盘的正常区域中。若出现本软件无法移动
的文件，则文件名会被写到error_file_list.log中。程序结束后请查看该文件中是否有您
感兴趣的。如果有，请手动备份它们。建议在一切处理都完成后，运行系统命令chkdsk.exe 
保证文件系统的正确性。

警告：本软件暂时为测试版，请不要对存放重要数据的磁盘进行操作。程序运行过程中出现
      错误，崩溃的情况请与作者联系，以便尽快解决软件中出现的BUG。


附录：
    配置文件格式：本软件要求输入坏扇区LBA的配置文件为一文本文件。其中的每一行为
一个扇区的LBA值。该文件可以手工构造也可以通过第三方工具产生的日志文件生成。软件
中自带了一个由MHDD的日志文件生成该配置文件的程序。您也可以通过编程或其它方式从
第三方坏扇区（坏道）扫瞄软件生成的日志中生成该配置文件。
